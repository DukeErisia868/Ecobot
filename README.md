import logging
from telegram import Update
from telegram.ext import Application, CommandHandler, ContextTypes
import random

–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
logging.basicConfig(
    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s',
    level=logging.INFO
)
logger = logging.getLogger(__name__)

–≠–∫–æ —Å–æ–≤–µ—Ç—ã
ECO_TIPS = [
    "‚ôªÔ∏è –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–Ω–æ–≥–æ—Ä–∞–∑–æ–≤—ã–µ —Å—É–º–∫–∏ –≤–º–µ—Å—Ç–æ –ø–ª–∞—Å—Ç–∏–∫–æ–≤—ã—Ö –ø–∞–∫–µ—Ç–æ–≤",
    "üí° –í—ã–∫–ª—é—á–∞–π—Ç–µ —Å–≤–µ—Ç –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ –∫–æ–º–Ω–∞—Ç—ã",
    "üö∞ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∞—ç—Ä–∞—Ç–æ—Ä—ã –Ω–∞ –∫—Ä–∞–Ω—ã –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ –≤–æ–¥—ã",
    "üö≤ –ß–∞—â–µ —Ö–æ–¥–∏—Ç–µ –ø–µ—à–∫–æ–º –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–µ–ª–æ—Å–∏–ø–µ–¥ –≤–º–µ—Å—Ç–æ –∞–≤—Ç–æ",
    "üå± –ù–∞—á–Ω–∏—Ç–µ –∫–æ–º–ø–æ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ä–≥–∞–Ω–∏—á–µ—Å–∫–∏–µ –æ—Ç—Ö–æ–¥—ã",
    "üì± –°–¥–∞–≤–∞–π—Ç–µ —Å—Ç–∞—Ä—É—é —ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫—É –Ω–∞ –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫—É",
    "‚òÄÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–æ–ª–Ω–µ—á–Ω—ã–µ –±–∞—Ç–∞—Ä–µ–∏ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —á–∏—Å—Ç–æ–π —ç–Ω–µ—Ä–≥–∏–∏",
    "ü•¨ –ü–æ–∫—É–ø–∞–π—Ç–µ –º–µ—Å—Ç–Ω—ã–µ —Å–µ–∑–æ–Ω–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã –¥–ª—è —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–≥–æ —Å–ª–µ–¥–∞",
    "üíß –û—Ç–∫–∞–∂–∏—Ç–µ—Å—å –æ—Ç –±—É—Ç–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –≤–æ–¥—ã –≤ –ø–æ–ª—å–∑—É —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω–æ–π",
    "üìÑ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–±–µ —Å—Ç–æ—Ä–æ–Ω—ã –±—É–º–∞–≥–∏ –ø—Ä–∏ –ø–µ—á–∞—Ç–∏",
    "üëï –ü–æ–∫—É–ø–∞–π—Ç–µ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—É—é –æ–¥–µ–∂–¥—É –≤–º–µ—Å—Ç–æ –±—ã—Å—Ç—Ä–æ–π –º–æ–¥—ã",
    "üå≥ –°–∞–∂–∞–π—Ç–µ –¥–µ—Ä–µ–≤—å—è –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–π—Ç–µ –ª–µ—Å–Ω—ã–µ –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤—ã",
    "üîå –û—Ç–∫–ª—é—á–∞–π—Ç–µ –∑–∞—Ä—è–¥–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –∏–∑ —Ä–æ–∑–µ—Ç–∫–∏ –ø–æ—Å–ª–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è",
    "üõçÔ∏è –í—ã–±–∏—Ä–∞–π—Ç–µ –ø—Ä–æ–¥—É–∫—Ç—ã —Å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π —É–ø–∞–∫–æ–≤–∫–æ–π",
    "‚ô®Ô∏è –£—Ç–µ–ø–ª–∏—Ç–µ –æ–∫–Ω–∞ –∏ –¥–≤–µ—Ä–∏ –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ —ç–Ω–µ—Ä–≥–∏–∏ –Ω–∞ –æ—Ç–æ–ø–ª–µ–Ω–∏–∏",
    "üåø –ó–∞–º–µ–Ω–∏—Ç–µ –æ–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–µ –ø—Ä–µ–¥–º–µ—Ç—ã –º–Ω–æ–≥–æ—Ä–∞–∑–æ–≤—ã–º–∏ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞–º–∏",
    "üè† –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —É–º–Ω—ã–µ —Ç–µ—Ä–º–æ—Å—Ç–∞—Ç—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —ç–Ω–µ—Ä–≥–æ–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è",
    "üçΩÔ∏è –ü–ª–∞–Ω–∏—Ä—É–π—Ç–µ –ø–∏—Ç–∞–Ω–∏–µ, —á—Ç–æ–±—ã —Å–æ–∫—Ä–∞—Ç–∏—Ç—å –ø–∏—â–µ–≤—ã–µ –æ—Ç—Ö–æ–¥—ã",
    "üîÑ –°–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –º—É—Å–æ—Ä –∏ —Å–¥–∞–≤–∞–π—Ç–µ –≤—Ç–æ—Ä—Å—ã—Ä—å—ë –Ω–∞ –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫—É",
    "üöø –£–º–µ–Ω—å—à–∏—Ç–µ –≤—Ä–µ–º—è –ø—Ä–∏—ë–º–∞ –¥—É—à–∞ –Ω–∞ 2 –º–∏–Ω—É—Ç—ã –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ –≤–æ–¥—ã"
]

–û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥
async def start(update: Update, context: ContextTypes.DEFAULT_TYPE) -> None:
    user = update.effective_user
    await update.message.reply_html(
        f"–ü—Ä–∏–≤–µ—Ç {user.mention_html()}! –Ø –ø–æ–º–æ–≥—É —Ç–µ–±–µ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø–ª–∞–Ω–µ—Ç—É üåç\n\n"
        "<b>–î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:</b>\n"
        "/start - –ù–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É\n"
        "/tip - –ü–æ–ª—É—á–∏—Ç—å —Å–ª—É—á–∞–π–Ω—ã–π —Å–æ–≤–µ—Ç\n"
        "/help - –ü–æ–º–æ—â—å –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è\n"
        "/alltips - –í—Å–µ —Å–æ–≤–µ—Ç—ã —Å—Ä–∞–∑—É\n\n"
        "–ö–∞–∂–¥—ã–π –º–∞–ª–µ–Ω—å–∫–∏–π —à–∞–≥ –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ!"
    )

async def eco_tip(update: Update, context: ContextTypes.DEFAULT_TYPE) -> None:
    tip = random.choice(ECO_TIPS)
    await update.message.reply_text(f"üåü –≠–∫–æ—Å–æ–≤–µ—Ç:\n\n{tip}")

async def all_tips(update: Update, context: ContextTypes.DEFAULT_TYPE) -> None:
    tips_list = "\n\n".join([f"üåø {tip}" for tip in ECO_TIPS])
    await update.message.reply_text(f"üìö –í—Å–µ —ç–∫–æ—Å–æ–≤–µ—Ç—ã ({len(ECO_TIPS)} —à—Ç):\n\n{tips_list}")

async def help_command(update: Update, context: ContextTypes.DEFAULT_TYPE) -> None:
    await update.message.reply_text(
        "‚ùì –ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –±–æ—Ç–æ–º:\n"
        "/start - –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã\n"
        "/tip - –°–ª—É—á–∞–π–Ω—ã–π —ç–∫–æ—Å–æ–≤–µ—Ç\n"
        "/alltips - –í—Å–µ —Å–æ–≤–µ—Ç—ã —Å–ø–∏—Å–∫–æ–º\n\n"
        "–í–µ—Ä—Å–∏—è 1.0 ‚Ä¢ –ë–æ—Ç –¥–ª—è —É—Å—Ç–æ–π—á–∏–≤–æ–≥–æ –±—É–¥—É—â–µ–≥–æ!"
    )

def main() -> None:
    TOKEN = "–¢–æ–∫–µ–Ω –æ—Ç BotFather"
    
    –°–æ–∑–¥–∞–µ–º Application
    application = Application.builder().token(TOKEN).build()
    
    –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥
    application.add_handler(CommandHandler("start", start))
    application.add_handler(CommandHandler("tip", eco_tip))
    application.add_handler(CommandHandler("alltips", all_tips))
    application.add_handler(CommandHandler("help", help_command))
    
    –ó–∞–ø—É—Å–∫–∞–µ–º –±–æ—Ç–∞
    logger.info("–ë–æ—Ç –∑–∞–ø—É—â–µ–Ω...")
    application.run_polling()

if __name__ == '__main__':
    main()
